var te=Object.defineProperty,le=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var A=(r,a,s)=>a in r?te(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,E=(r,a)=>{for(var s in a||(a={}))ie.call(a,s)&&A(r,s,a[s]);if(R)for(var s of R(a))ue.call(a,s)&&A(r,s,a[s]);return r},j=(r,a)=>le(r,oe(a));import{r as k,o as $,c as ae,a as W,b as g,d as D,e as i,u as e,f as ne,T as se,w as n,P as G,i as re,N as F,g as O,F as S,S as V,B as P,C as U,h as K,j as z,k as N,l as de,m as me,n as H,p as B,q as pe}from"./vendor.96835ee2.js";const ce=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const o of m.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function s(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerpolicy&&(m.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?m.credentials="include":u.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(u){if(u.ep)return;u.ep=!0;const m=s(u);fetch(u.href,m)}};ce();var we=(r,a)=>{for(const[s,d]of a)r[s]=d;return r};const Se={class:"wrap"},ye={class:"app"},fe=H("\u8BA1\u7B97"),ve=H("\u4FDD\u5B58\u5230\u6211\u7684"),he=H("\u8BA1\u7B97"),Ve=H("\u4FDD\u5B58\u5230\u6211\u7684"),ke={setup(r){let a=k(0),s=k(0);$(()=>{a.value=window.innerHeight,s.value=document.querySelector(".wrap").getBoundingClientRect().width});const d=ae(()=>s.value-300),u=k(0),m=[{text:"\u76EE\u6807\u4EF7"},{text:"\u4E70\u5165\u624B\u6570"}],o=W({currentPrice:0,myNowCostPrice:0,myNowStockShou:1,targetCostPrice:0,expectStocksShou:1,title:""});let v=k(!1);const I=c=>{u.value==0&&q("targetCostPrice",o.targetCostPrice),u.value==1&&(console.log(u),q("expectStocks",o.expectStocksShou))},T=c=>{console.log("failed",c)},b=k(!1),L=k([]),Q=()=>{b.value=!0,L.value=JSON.parse(localStorage.stockHistorys)},M=()=>{b.value=!1},_=c=>{localStorage.stockHistorys||(localStorage.stockHistorys="[]");const t=JSON.parse(localStorage.stockHistorys);if(!o.title)return B("\u8BF7\u8F93\u5165\u6807\u9898");const l=j(E({},o),{date:new Date().toLocaleString(),type:c});t.some(w=>w.title==o.title)?t.map((w,x)=>{w.title==o.title&&(t[x]=JSON.parse(JSON.stringify(l)))}):t.push(l),console.log(t),localStorage.stockHistorys=JSON.stringify(t)},X=c=>{u.value=c.type,Object.keys(o).map(t=>{o[t]=c[t]}),M()};$(()=>{});const y=W({expectStocksShou:0,trueEpxpectPrice:0,willCostTotalMoney:0}),q=(c="targetCostPrice",t)=>{function l(ee){return Number(ee.toFixed(3))}var f=100,w=o.currentPrice,x=o.myNowCostPrice,C=f*o.myNowStockShou,p=0;if(c=="targetCostPrice"){var J=t;if(J<w)return v.value=!1,B("\u76EE\u6807\u6210\u672C\u4E0D\u80FD\u5C0F\u4E8E\u73B0\u4EF7");v.value=!0,p=0;var Y=f*1e6;for(p;p<Y;p+=f){var h=l(x*C+w*p)/(C+p);if(h=Number(h.toFixed(3)),h<=J){var Z=p/f;y.expectStocksShou=Z,y.trueEpxpectPrice=h,y.willCostTotalMoney=p*w;break}}}if(c=="expectStocks"){if(p=t*f,p<0)return v.value=!1,B("\u624B\u6570\u4E0D\u80FD\u4E3A\u8D1F\u6570");v.value=!0;var h=l(x*C+w*p)/(C+p);h=Number(h.toFixed(3)),y.expectStocksShou=t,y.trueEpxpectPrice=h,y.willCostTotalMoney=p*w}};return(c,t)=>(g(),D("div",Se,[i(e(F),{title:"\u80A1\u7968\u8865\u4ED3\u8BA1\u7B97\u5668","right-text":"\u6211\u7684",onClickRight:Q}),ne("div",ye,[i(e(se),{"main-active-index":u.value,"onUpdate:main-active-index":t[20]||(t[20]=l=>u.value=l),height:e(a),items:m,class:"treeselect"},{content:n(()=>[u.value===0?(g(),O(e(K),{key:0,onSubmit:I,onFailed:T},{default:n(()=>[i(e(U),null,{default:n(()=>[i(e(S),{modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).title=l),name:"title",label:"\u6807\u9898","label-width":"90px",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968\u540D\u79F0\u6216\u4EE3\u7801",required:""},null,8,["modelValue"]),i(e(S),{modelValue:e(o).currentPrice,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).currentPrice=l),name:"currentPrice",label:"\u5F53\u524D\u4EF7\u683C\xA5","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).currentPrice,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).currentPrice=l),step:"0.01","decimal-length":2,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).myNowCostPrice,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).myNowCostPrice=l),name:"myNowCostPrice",label:"\u6211\u5F53\u524D\u6210\u672C\xA5","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).myNowCostPrice,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).myNowCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).myNowStockShou,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).myNowStockShou=l),name:"myNowStockShou",label:"\u6211\u5F53\u524D\u624B\u6570","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).myNowStockShou,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).myNowStockShou=l),step:"1","decimal-length":0,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).targetCostPrice,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).targetCostPrice=l),name:"targetCostPrice",label:"\u6211\u7684\u76EE\u6807\u4EF7\xA5","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).targetCostPrice,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).targetCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(P),{type:"primary",round:"",block:"","native-type":"submit",class:"submit"},{default:n(()=>[fe]),_:1}),i(e(P),{round:"",block:"",class:"submit",onClick:t[9]||(t[9]=l=>_(0))},{default:n(()=>[ve]),_:1})]),_:1})]),_:1})):z("",!0),u.value===1?(g(),O(e(K),{key:1,onSubmit:I,onFailed:T},{default:n(()=>[i(e(U),null,{default:n(()=>[i(e(S),{modelValue:e(o).title,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).title=l),name:"title",label:"\u6807\u9898","label-width":"90px",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968\u540D\u79F0\u6216\u4EE3\u7801",required:""},null,8,["modelValue"]),i(e(S),{modelValue:e(o).currentPrice,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).currentPrice=l),name:"currentPrice",label:"\u5F53\u524D\u4EF7\u683C\xA5","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).currentPrice,"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).currentPrice=l),step:"0.01","decimal-length":2,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).myNowCostPrice,"onUpdate:modelValue":t[14]||(t[14]=l=>e(o).myNowCostPrice=l),name:"myNowCostPrice",label:"\u6211\u5F53\u524D\u6210\u672C\xA5","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).myNowCostPrice,"onUpdate:modelValue":t[13]||(t[13]=l=>e(o).myNowCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).myNowStockShou,"onUpdate:modelValue":t[16]||(t[16]=l=>e(o).myNowStockShou=l),name:"myNowStockShou",label:"\u6211\u5F53\u524D\u624B\u6570","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).myNowStockShou,"onUpdate:modelValue":t[15]||(t[15]=l=>e(o).myNowStockShou=l),step:"1","decimal-length":0,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(S),{modelValue:e(o).expectStocksShou,"onUpdate:modelValue":t[18]||(t[18]=l=>e(o).expectStocksShou=l),name:"expectStocksShou",label:"\u6211\u60F3\u4E70\u5165\u624B\u6570","label-width":"90px"},{input:n(()=>[i(e(V),{modelValue:e(o).expectStocksShou,"onUpdate:modelValue":t[17]||(t[17]=l=>e(o).expectStocksShou=l),step:"1","decimal-length":0,"input-width":e(d)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),i(e(P),{type:"primary",round:"",block:"","native-type":"submit",class:"submit"},{default:n(()=>[he]),_:1}),i(e(P),{round:"",block:"",class:"submit",onClick:t[19]||(t[19]=l=>_(1))},{default:n(()=>[Ve]),_:1})]),_:1})]),_:1})):z("",!0)]),_:1},8,["main-active-index","height"]),i(e(G),{show:e(v),"onUpdate:show":t[21]||(t[21]=l=>re(v)?v.value=l:v=l),position:"top",style:{height:"50%"}},{default:n(()=>[i(e(F),{title:"\u8BA1\u7B97\u7ED3\u679C"}),i(e(U),null,{default:n(()=>[i(e(N),{title:"\u672C\u6B21\u4E70\u5165\u624B\u6570",value:e(y).expectStocksShou},null,8,["value"]),i(e(N),{title:"\u672C\u6B21\u4E70\u5165\u603B\u989D\xA5",value:e(y).willCostTotalMoney},null,8,["value"]),i(e(N),{title:"\u4E70\u5165\u524D\u6210\u672C\xA5",value:e(o).myNowCostPrice},null,8,["value"]),i(e(N),{title:"\u4E70\u5165\u540E\u6210\u672C\xA5",value:e(y).trueEpxpectPrice},null,8,["value"])]),_:1})]),_:1},8,["show"]),i(e(G),{show:b.value,"onUpdate:show":t[22]||(t[22]=l=>b.value=l),position:"top",style:{height:"100%"}},{default:n(()=>[i(e(F),{title:"\u6211\u7684","right-text":"\u5173\u95ED",onClickRight:M}),i(e(U),null,{default:n(()=>[(g(!0),D(de,null,me(L.value,(l,f)=>(g(),O(e(N),{title:l.title||`\u672A\u547D\u540D${f}`,value:l.date,key:f,onClick:w=>X(l)},null,8,["title","value","onClick"]))),128))]),_:1})]),_:1},8,["show"])])]))}};var ge=we(ke,[["__scopeId","data-v-53275e79"]]);pe(ge).mount("#app");
