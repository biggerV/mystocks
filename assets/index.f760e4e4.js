import{r as x,o as H,c as W,a as T,b as k,d as G,e as u,u as e,f as K,T as z,w as a,P as D,i as J,N as _,g as M,F as w,S,B as L,C as g,h as A,j as E,k as N,l as I,m as O,n as Q}from"./vendor.7a1fb2c4.js";const X=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&r(t)}).observe(document,{childList:!0,subtree:!0});function f(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=f(i);fetch(i.href,n)}};X();var Y=(h,m)=>{for(const[f,r]of m)h[f]=r;return h};const Z={class:"wrap"},$={class:"app"},ee=I("\u8BA1\u7B97"),te=I("\u8BA1\u7B97"),oe={setup(h){let m=x(0),f=x(0);H(()=>{m.value=window.innerHeight,f.value=document.querySelector(".wrap").getBoundingClientRect().width});const r=W(()=>f.value-300),i=x(0),n=[{text:"\u76EE\u6807\u4EF7"},{text:"\u4E70\u5165\u624B\u6570"}],t=T({currentPrice:0,myNowCostPrice:0,myNowStockShou:1,targetCostPrice:0,expectStocksShou:1});let p=x(!1);const b=y=>{i.value==0&&U("targetCostPrice",t.targetCostPrice),i.value==1&&(console.log(i),U("expectStocks",t.expectStocksShou))},C=y=>{console.log("failed",y)},d=T({expectStocksShou:0,trueEpxpectPrice:0,willCostTotalMoney:0}),U=(y="targetCostPrice",o)=>{function l(q){return Number(q.toFixed(3))}var V=100,v=t.currentPrice,F=t.myNowCostPrice,P=V*t.myNowStockShou,s=0;if(y=="targetCostPrice"){var B=o;if(B<v)return p.value=!1,O("\u76EE\u6807\u6210\u672C\u4E0D\u80FD\u5C0F\u4E8E\u73B0\u4EF7");p.value=!0,s=0;var R=V*1e6;for(s;s<R;s+=V){var c=l(F*P+v*s)/(P+s);if(c=Number(c.toFixed(3)),c<=B){var j=s/V;d.expectStocksShou=j,d.trueEpxpectPrice=c,d.willCostTotalMoney=s*v;break}}}if(y=="expectStocks"){if(s=o*V,s<0)return p.value=!1,O("\u624B\u6570\u4E0D\u80FD\u4E3A\u8D1F\u6570");p.value=!0;var c=l(F*P+v*s)/(P+s);c=Number(c.toFixed(3)),d.expectStocksShou=o,d.trueEpxpectPrice=c,d.willCostTotalMoney=s*v}};return(y,o)=>(k(),G("div",Z,[u(e(_),{title:"\u80A1\u7968\u8865\u4ED3\u8BA1\u7B97\u5668"}),K("div",$,[u(e(z),{"main-active-index":i.value,"onUpdate:main-active-index":o[16]||(o[16]=l=>i.value=l),height:e(m),items:n,class:"treeselect"},{content:a(()=>[i.value===0?(k(),M(e(A),{key:0,onSubmit:b,onFailed:C},{default:a(()=>[u(e(g),null,{default:a(()=>[u(e(w),{modelValue:e(t).currentPrice,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).currentPrice=l),name:"currentPrice",label:"\u5F53\u524D\u4EF7\u683C\xA5","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).currentPrice,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).currentPrice=l),step:"0.01","decimal-length":2,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).myNowCostPrice,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).myNowCostPrice=l),name:"myNowCostPrice",label:"\u6211\u5F53\u524D\u6210\u672C\xA5","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).myNowCostPrice,"onUpdate:modelValue":o[2]||(o[2]=l=>e(t).myNowCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).myNowStockShou,"onUpdate:modelValue":o[5]||(o[5]=l=>e(t).myNowStockShou=l),name:"myNowStockShou",label:"\u6211\u5F53\u524D\u624B\u6570","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).myNowStockShou,"onUpdate:modelValue":o[4]||(o[4]=l=>e(t).myNowStockShou=l),step:"1","decimal-length":0,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).targetCostPrice,"onUpdate:modelValue":o[7]||(o[7]=l=>e(t).targetCostPrice=l),name:"targetCostPrice",label:"\u6211\u7684\u76EE\u6807\u4EF7\xA5","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).targetCostPrice,"onUpdate:modelValue":o[6]||(o[6]=l=>e(t).targetCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(L),{type:"primary",round:"",block:"","native-type":"submit",class:"submit"},{default:a(()=>[ee]),_:1})]),_:1})]),_:1})):E("",!0),i.value===1?(k(),M(e(A),{key:1,onSubmit:b,onFailed:C},{default:a(()=>[u(e(g),null,{default:a(()=>[u(e(w),{modelValue:e(t).currentPrice,"onUpdate:modelValue":o[9]||(o[9]=l=>e(t).currentPrice=l),name:"currentPrice",label:"\u5F53\u524D\u4EF7\u683C\xA5","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).currentPrice,"onUpdate:modelValue":o[8]||(o[8]=l=>e(t).currentPrice=l),step:"0.01","decimal-length":2,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).myNowCostPrice,"onUpdate:modelValue":o[11]||(o[11]=l=>e(t).myNowCostPrice=l),name:"myNowCostPrice",label:"\u6211\u5F53\u524D\u6210\u672C\xA5","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).myNowCostPrice,"onUpdate:modelValue":o[10]||(o[10]=l=>e(t).myNowCostPrice=l),step:"0.01","decimal-length":2,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).myNowStockShou,"onUpdate:modelValue":o[13]||(o[13]=l=>e(t).myNowStockShou=l),name:"myNowStockShou",label:"\u6211\u5F53\u524D\u624B\u6570","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).myNowStockShou,"onUpdate:modelValue":o[12]||(o[12]=l=>e(t).myNowStockShou=l),step:"1","decimal-length":0,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(w),{modelValue:e(t).expectStocksShou,"onUpdate:modelValue":o[15]||(o[15]=l=>e(t).expectStocksShou=l),name:"expectStocksShou",label:"\u6211\u60F3\u4E70\u5165\u624B\u6570","label-width":"90px"},{input:a(()=>[u(e(S),{modelValue:e(t).expectStocksShou,"onUpdate:modelValue":o[14]||(o[14]=l=>e(t).expectStocksShou=l),step:"1","decimal-length":0,"input-width":e(r)},null,8,["modelValue","input-width"])]),_:1},8,["modelValue"]),u(e(L),{type:"primary",round:"",block:"","native-type":"submit",class:"submit"},{default:a(()=>[te]),_:1})]),_:1})]),_:1})):E("",!0)]),_:1},8,["main-active-index","height"]),u(e(D),{show:e(p),"onUpdate:show":o[17]||(o[17]=l=>J(p)?p.value=l:p=l),position:"top",style:{height:"40%"}},{default:a(()=>[u(e(_),{title:"\u8BA1\u7B97\u7ED3\u679C"}),u(e(g),null,{default:a(()=>[u(e(N),{title:"\u672C\u6B21\u4E70\u5165\u624B\u6570",value:e(d).expectStocksShou},null,8,["value"]),u(e(N),{title:"\u672C\u6B21\u4E70\u5165\u603B\u989D\xA5",value:e(d).willCostTotalMoney},null,8,["value"]),u(e(N),{title:"\u4E70\u5165\u524D\u6210\u672C\xA5",value:e(t).myNowCostPrice},null,8,["value"]),u(e(N),{title:"\u4E70\u5165\u540E\u6210\u672C\xA5",value:e(d).trueEpxpectPrice},null,8,["value"])]),_:1})]),_:1},8,["show"])])]))}};var le=Y(oe,[["__scopeId","data-v-599c9c24"]]);Q(le).mount("#app");
